# Firebase è¨­å®šæŒ‡å—

## ğŸ“‹ è¨­å®šæ­¥é©Ÿ

### 1. å‰µå»º Firebase å°ˆæ¡ˆ
1. å‰å¾€ [Firebase Console](https://console.firebase.google.com/)
2. é»æ“Šã€Œå»ºç«‹å°ˆæ¡ˆã€
3. è¼¸å…¥å°ˆæ¡ˆåç¨±ï¼ˆä¾‹å¦‚ï¼š`mdsync-app`ï¼‰
4. é¸æ“‡æ˜¯å¦å•Ÿç”¨ Google Analyticsï¼ˆå»ºè­°é–‹å•Ÿï¼‰
5. å®Œæˆå°ˆæ¡ˆå‰µå»º

### 2. æ·»åŠ  iOS æ‡‰ç”¨ç¨‹å¼
1. åœ¨ Firebase å°ˆæ¡ˆä¸­é»æ“Šã€Œæ–°å¢æ‡‰ç”¨ç¨‹å¼ã€
2. é¸æ“‡ iOS åœ–æ¨™
3. è¼¸å…¥æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š
   - **iOS å¥—ä»¶ ID**ï¼šèˆ‡ Xcode å°ˆæ¡ˆä¸­çš„ Bundle Identifier ç›¸åŒ
   - **æ‡‰ç”¨ç¨‹å¼æš±ç¨±**ï¼š`MoodSync`ï¼ˆå¯é¸ï¼‰
   - **App Store ID**ï¼šæš«æ™‚å¯ç•™ç©º

### 3. ä¸‹è¼‰è¨­å®šæª”
1. ä¸‹è¼‰ `GoogleService-Info.plist` æª”æ¡ˆ
2. å°‡æª”æ¡ˆæ‹–æ›³åˆ° Xcode å°ˆæ¡ˆçš„æ ¹ç›®éŒ„
3. ç¢ºä¿é¸æ“‡ã€ŒCopy items if neededã€
4. ç¢ºä¿ Target é¸æ“‡äº†ä½ çš„æ‡‰ç”¨ç¨‹å¼

### 4. æ·»åŠ  Firebase SDK
åœ¨ Xcode ä¸­ï¼š

1. é¸æ“‡å°ˆæ¡ˆæª”æ¡ˆ
2. é¸æ“‡ã€ŒPackage Dependenciesã€æ¨™ç±¤
3. é»æ“Šã€Œ+ã€æŒ‰éˆ•
4. è¼¸å…¥ Firebase SDK URLï¼š
   ```
   https://github.com/firebase/firebase-ios-sdk
   ```
5. é¸æ“‡ã€ŒUp to Next Major Versionã€
6. æ·»åŠ ä»¥ä¸‹å¥—ä»¶ï¼š
   - **FirebaseAuth**ï¼šç”¨æ–¼èº«ä»½é©—è­‰
   - **FirebaseFirestore**ï¼šç”¨æ–¼è³‡æ–™åº«æ“ä½œ

### 5. å•Ÿç”¨ Authentication
1. åœ¨ Firebase Console ä¸­ï¼Œé¸æ“‡ã€ŒAuthenticationã€
2. é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€
3. é¸æ“‡ã€ŒSign-in methodã€æ¨™ç±¤
4. å•Ÿç”¨ã€Œé›»å­éƒµä»¶/å¯†ç¢¼ã€ç™»å…¥æ–¹å¼

### 6. è¨­å®š Firestore Database
1. åœ¨ Firebase Console ä¸­ï¼Œé¸æ“‡ã€ŒFirestore Databaseã€
2. é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€
3. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€ï¼ˆä¹‹å¾Œå¯ä»¥æ›´æ”¹å®‰å…¨è¦å‰‡ï¼‰
4. é¸æ“‡è³‡æ–™åº«ä½ç½®ï¼ˆå»ºè­°é¸æ“‡æœ€è¿‘çš„åœ°å€ï¼‰

## ğŸ” Firestore å®‰å…¨è¦å‰‡

åœ¨æ¸¬è©¦éšæ®µï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¦å‰‡ï¼ˆ**ç”Ÿç”¢ç’°å¢ƒè«‹ä½¿ç”¨æ›´åš´æ ¼çš„è¦å‰‡**ï¼‰ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // å…è¨±å·²é©—è­‰ä½¿ç”¨è€…è®€å¯«è‡ªå·±çš„è³‡æ–™
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // å…¶ä»–é›†åˆçš„è¦å‰‡å¯ä»¥åœ¨é€™è£¡æ·»åŠ 
  }
}
```

## âœ… é©—è­‰è¨­å®š

ç¢ºä¿ä»¥ä¸‹æª”æ¡ˆå·²æ­£ç¢ºé…ç½®ï¼š

1. **GoogleService-Info.plist** å·²æ·»åŠ åˆ° Xcode å°ˆæ¡ˆ
2. **Firebase SDK** å·²å®‰è£ä¸¦å°å…¥
3. **FirebaseApp.configure()** å·²åœ¨ AppDelegate ä¸­èª¿ç”¨
4. **Authentication** å·²åœ¨ Firebase Console ä¸­å•Ÿç”¨
5. **Firestore** å·²å‰µå»ºä¸¦è¨­å®šå®‰å…¨è¦å‰‡

## ğŸš€ æ¸¬è©¦é©—è­‰

å®Œæˆè¨­å®šå¾Œï¼Œä½ å¯ä»¥ï¼š

1. åœ¨æ¨¡æ“¬å™¨æˆ–å¯¦æ©Ÿä¸Šé‹è¡Œæ‡‰ç”¨ç¨‹å¼
2. å˜—è©¦è¨»å†Šæ–°å¸³è™Ÿ
3. ç™»å…¥å·²è¨»å†Šçš„å¸³è™Ÿ
4. æª¢æŸ¥ Firebase Console ä¸­çš„ Authentication å’Œ Firestore æ˜¯å¦æœ‰æ–°è³‡æ–™

## ğŸ“± æ‡‰ç”¨ç¨‹å¼åŠŸèƒ½

è¨­å®šå®Œæˆå¾Œï¼Œæ‡‰ç”¨ç¨‹å¼å°‡å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

- âœ… **çœŸå¯¦è¨»å†Š**ï¼šä½¿ç”¨ Firebase Auth å‰µå»ºå¸³è™Ÿ
- âœ… **çœŸå¯¦ç™»å…¥**ï¼šé©—è­‰ä½¿ç”¨è€…æ†‘è­‰
- âœ… **è‡ªå‹•ç™»å…¥**ï¼šè¨˜ä½ç™»å…¥ç‹€æ…‹
- âœ… **éŒ¯èª¤è™•ç†**ï¼šé¡¯ç¤ºä¸­æ–‡åŒ–çš„éŒ¯èª¤è¨Šæ¯
- âœ… **ç™»å‡ºåŠŸèƒ½**ï¼šå®‰å…¨ç™»å‡ºä¸¦æ¸…é™¤ç‹€æ…‹
- âœ… **è³‡æ–™æŒä¹…åŒ–**ï¼šä½¿ç”¨è€…è³‡æ–™å­˜å„²åœ¨ Firestore

## ğŸ›  æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œï¼š

1. **æ¨¡çµ„æœªæ‰¾åˆ°éŒ¯èª¤**
   - ç¢ºä¿ Firebase SDK å·²æ­£ç¢ºå®‰è£
   - æ¸…ç†å’Œé‡å»ºå°ˆæ¡ˆï¼ˆCmd+Shift+Kï¼Œç„¶å¾Œ Cmd+Bï¼‰

2. **GoogleService-Info.plist æœªæ‰¾åˆ°**
   - ç¢ºä¿æª”æ¡ˆåœ¨ Xcode å°ˆæ¡ˆä¸­
   - æª¢æŸ¥æª”æ¡ˆæ˜¯å¦åŠ å…¥æ­£ç¢ºçš„ Target

3. **èº«ä»½é©—è­‰å¤±æ•—**
   - æª¢æŸ¥ Firebase Console ä¸­çš„ Authentication è¨­å®š
   - ç¢ºä¿é›»å­éƒµä»¶/å¯†ç¢¼ç™»å…¥å·²å•Ÿç”¨

4. **Firestore æ¬Šé™è¢«æ‹’çµ•**
   - æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡
   - ç¢ºä¿ä½¿ç”¨è€…å·²ç¶“éèº«ä»½é©—è­‰ 